var LineDrillHighchartView=function(t){function i(t,e,s,r,a,h,o){this.view=t,this.series_data=e,this.visit_series=s,this.division_series=r,this.title=a,this.totalcount=o;this.app_colors=h,this.dataseries=this.visit_series,this.dataseriesnew=this.division_series,this.destroy=__bind(this.destroy,this),this.resize=__bind(this.resize,this),i.__super__.constructor.call(this,this.view),this.div=$("#"+this.id).addClass("ui-widget").css("background-color","#ffffff"),this.parent=$("#"+this.id).parent(),this.chartcontainer=$("<div>").appendTo(this.div),this.chart1Click()}return __bind=function(t,i){return function(){return t.apply(i,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,i){function e(){this.constructor=t}for(var s in i)__hasProp.call(i,s)&&(t[s]=i[s]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},__extends(i,t),i.prototype.setChart=function(t){this.chart&&this.destroy(),this.chart=new Highcharts.Chart(t),this.chart=$("#"+this.id).highcharts(),this.resize({width:this.parent.width(),height:this.parent.height()})},i.prototype.resize=function(t){if(this.chart){{$("#"+this.id+"-vroot").css("top")}if(this.chart.containerWidth<t.width){this.chart.options.title.style.fontSize="2em",this.chart.options.subtitle.style.fontSize="1.5em",this.chart.options.xAxis[0].title.style.fontSize="1.5em",this.chart.options.legend.itemStyle.fontSize="1.5em",this.chart.options.xAxis[0].labels.style.fontSize="1.5em",this.chart.options.tooltip.style.fontSize="1.5em",this.chart.options.plotOptions.line.dataLabels.style.fontSize="1.5em";var i=.33*this.chart.containerWidth+this.chart.containerWidth;$("#"+this.id+"-action-bar-div").width(i+100),$("#"+this.id+"-vroot").css({position:"absolute",top:"0px",left:i/2}),this.chart=new Highcharts.Chart(this.chart.options),this.chart.setSize(i+100,i+100,!1),this.chart.redraw()}else this.chart.options.title.style.fontSize="1.5em",this.chart.options.subtitle.style.fontSize="1em",this.chart.options.xAxis[0].title.style.fontSize="1em",this.chart.options.legend.itemStyle.fontSize="1em",this.chart.options.xAxis[0].labels.style.fontSize="1em",this.chart.options.tooltip.style.fontSize="1em",this.chart.options.plotOptions.line.dataLabels.style.fontSize="1em",$("#"+this.id+"-action-bar-div").width(t.width),$("#"+this.id+"-vroot").css({position:"absolute",left:"0px",top:"365px"}),this.chart=new Highcharts.Chart(this.chart.options),this.chart.setSize(t.width,t.height,doAnimation=!0),this.chart.redraw()}},i.prototype.destroy=function(){this.chart.destroy()},i.prototype.chart1=function(){var t=this.totalcount;return Highcharts.setOptions({lang:{myButtonLineTitle:"Back"}}),{chart:{style:{fontSize:"1em"},renderTo:this.id,type:"line",borderWidth:.5},credits:{style:{fontSize:"0.7em"},enabled:!1},title:{style:{fontSize:"1.5em"},text:"House Visit Statistics (Percent)"},subtitle:{style:{fontSize:"1em"},text:this.title},xAxis:{title:{margin:20,enabled:!0,style:{fontSize:"1em"},text:"Month and Year"},minPadding:.1,maxPadding:0,labels:{rotation:-90,style:{fontSize:"1em",fontFamily:"Verdana, sans-serif"}},startOnTick:!1,endOnTick:!1,type:"datetime",tickInterval:2592e6},colors:this.app_colors,yAxis:{min:0,title:{enabled:!0,style:{fontSize:"1em"},text:""},labels:{formatter:function(){var i=this.value/t*100;return Highcharts.numberFormat(i,0,",")+"%"}}},legend:{enabled:!0,floating:!1,itemStyle:{fontSize:"1em"}},tooltip:{formatter:function(){return"<b>"+this.series.name+": "+Highcharts.numberFormat(this.y/t*100,2,".")+"%</br>"}},plotOptions:{line:{dataLabels:{enabled:!0,style:{fontSize:"1em"},formatter:function(){return this.series.name}},turboThreshold:1e4,pointRange:1,point:{events:{click:_.bind(this.chart2Click,this)}}}},series:this.series_data,navigation:{buttonOptions:{theme:{style:{color:"#039",textDecoration:"underline"}}}},exporting:{chartOptions:{chart:{height:this.chartHeight+200}},buttons:{printButton:{enabled:!1},exportButton:{enabled:!1},customButton:{x:-28,text:"Back",_id:"myButtonLine",onclick:_.bind(this.chartBackClick,this),_titleKey:"myButtonLineTitle"}}}}},i.prototype.chart1Click=function(){var t=this.chart1();this.setChart(t)},i.prototype.chart2Click=function(t){var i=t.currentTarget.visit_series,e=t.currentTarget.division_series;if(this.chart.setTitle({text:"House Visit Statistics (Percent) For '"+t.currentTarget.series.name+"'"}),i){for(this.dataseries=t.currentTarget.visit_series;this.chart.series.length>0;)this.chart.series[0].remove(!1);for(var s=0;s<i.length;s++)this.chart.addSeries({name:i[s].name,data:i[s].data},!1)}else if(e){for(this.dataseriesnew=e;this.chart.series.length>0;)this.chart.series[0].remove(!1);for(var s=0;s<e.length;s++)this.chart.addSeries({name:e[s].name,data:e[s].data,color:this.app_colors[s]},!1)}else if(i||e){for(;this.chart.series.length>0;)this.chart.series[0].remove(!1);for(var s=0;s<t.currentTarget.series_data.length;s++)this.chart.addSeries({name:t.currentTarget.series_data[s].name,data:t.currentTarget.series_data[s].data,color:t.currentTarget.app_colors[s]},!1);this.chart.setTitle({text:"House Visit Statistics (Percent) over all the areas"})}else{return;var s}this.chart.isDirty=!0,this.chart.redraw()},i.prototype.chartBackClick=function(){var t=this.chart1(this.seriesData);this.setChart(t)},i}(BaseView);elx.LineDrillHighchartView=LineDrillHighchartView;